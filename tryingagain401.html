<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventory Data</title>
</head>
<body>
    <h1>Inventory Data</h1>
    <table id="data-table" border="1">
        <tr>
            <th>Product Number</th>
            <th>Serial Number</th>
            <th>Product Name</th>
            <th>Timestamp</th>
            <th>Latitude</th>
            <th>Longitude</th>
            <th>Region</th>
        </tr>
        <tr>
            <td>1234</td>
            <td>5678</td>
            <td>Example Product</td>
            <td id="timestamp"></td>
            <td id="latitude"></td>
            <td id="longitude"></td>
            <td id="region"></td>
        </tr>
    </table>

    <script>
        // Region Mapping
        const regions = [
            { name: "Dresden, Germany", lat: [50, 52], lon: [12, 14.5] },
            { name: "Woodlands, Singapore", lat: [1.2, 1.6], lon: [103.5, 104] },
            { name: "Beaverton, USA", lat: [45, 46], lon: [-123.5, -122] },
            { name: "Taiwan", lat: [22, 26], lon: [119, 123] }
        ];

        function findRegion(lat, lon) {
            for (let r of regions) {
                if (lat >= r.lat[0] && lat <= r.lat[1] && lon >= r.lon[0] && lon <= r.lon[1]) return r.name;
            }
            return "Unknown Area";
        }

        // Fetch geolocation
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(pos => {
                const lat = pos.coords.latitude;
                const lon = pos.coords.longitude;
                const time = new Date().toISOString();

                document.getElementById("latitude").textContent = lat;
                document.getElementById("longitude").textContent = lon;
                document.getElementById("timestamp").textContent = time;
                document.getElementById("region").textContent = findRegion(lat, lon);
            });
        }
    </script>
</body>
</html>
